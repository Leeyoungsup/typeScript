{"version":3,"sources":["Editor.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+BAAuD;AACvD,+CAA0D;AAC1D,6CAA6C;AAO7C,IAAM,WAAW,GAAG,UAAC,EAAiC;QAA/B,cAAI,EAAE,sBAAQ,EAAE,kBAAM;IAC3C,2BAA2B;IAC3B,IAAM,GAAG,GAAG,cAAM,EAAY,CAAC;IAC/B,qBAAqB;IACrB,iBAAS,CAAC;QACR,gDAAgD;QAChD,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;YAChB,IAAM,MAAM,GAAG,IAAI,qBAAQ,CAAC;gBAC1B,MAAM,EAAE,MAAM;gBACd,KAAK,EAAE,0BAAY;gBACnB,IAAI,MAAA;gBACE,QAAQ,YAAC,GAAG,EAAE,KAAK;;;;;wCACV,qBAAM,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,EAAA;;oCAA7B,IAAI,GAAG,SAAsB;oCACnC,QAAQ,CAAC,IAAI,CAAC,CAAC;;;;;iBAChB;aACF,CAAC,CAAC;YACH,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC;SACtB;QACD,sCAAsC;QACtC,OAAO;YACL,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE;gBACtC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;aACvB;QACH,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC;IACP,OAAO,0CAAK,EAAE,EAAE,MAAM,EAAE,SAAS,EAAC,kBAAkB,GAAG,CAAC;AAC1D,CAAC,CAAC;AACF,qBAAe,YAAI,CAAC,WAAW,CAAC,CAAC","file":"Editor.js","sourcesContent":["import React, { memo, useEffect, useRef } from 'react';\r\nimport EditorJS, { OutputData } from '@editorjs/editorjs';\r\nimport { EDITOR_TOOLS } from './EditorTools';\r\n//props\r\ntype Props = {\r\n  data?: OutputData;\r\n  onChange(val: OutputData): void;\r\n  holder: string;\r\n};\r\nconst EditorBlock = ({ data, onChange, holder }: Props) => {\r\n  //add a reference to editor\r\n  const ref = useRef<EditorJS>();\r\n  //initialize editorjs\r\n  useEffect(() => {\r\n    //initialize editor if we don't have a reference\r\n    if (!ref.current) {\r\n      const editor = new EditorJS({\r\n        holder: holder,\r\n        tools: EDITOR_TOOLS,\r\n        data,\r\n        async onChange(api, event) {\r\n          const data = await api.saver.save();\r\n          onChange(data);\r\n        },\r\n      });\r\n      ref.current = editor;\r\n    }\r\n    //add a return function handle cleanup\r\n    return () => {\r\n      if (ref.current && ref.current.destroy) {\r\n        ref.current.destroy();\r\n      }\r\n    };\r\n  }, []);\r\n  return <div id={holder} className=\"prose max-w-full\" />;\r\n};\r\nexport default memo(EditorBlock);\r\n"]}